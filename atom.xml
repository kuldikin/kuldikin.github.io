<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Страница имени Александра Кулдыкина</title>
  
  <link href="//atom.xml" rel="self"/>
  
  <link href="http://kuldikin.com/"/>
  <updated>2016-03-10T21:12:38.000Z</updated>
  <id>http://kuldikin.com/</id>
  
  <author>
    <name>Александр Кулдыкин</name>
    <email>kuldikin@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mercurial: shelve, strip, backout, graft.</title>
    <link href="http://kuldikin.com/2016/03/11/shelve-strip-backout-graft/"/>
    <id>http://kuldikin.com/2016/03/11/shelve-strip-backout-graft/</id>
    <published>2016-03-10T21:05:34.000Z</published>
    <updated>2016-03-10T21:12:38.000Z</updated>
    
    <content type="html">&lt;p&gt;Представим, что изменения попали в не ту ветку которую мы хотели.
Что делать? Всё зависит от того, как много мы успели сделать.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Если только начали делать правки, но ещё не комитили&lt;/strong&gt; можно выбросить
все изменения командой &lt;code&gt;revert --all&lt;/code&gt; и заново написать в правильной ветке
или можно командами &lt;code&gt;shelve&lt;/code&gt; и &lt;code&gt;unshelve&lt;/code&gt; перенести изменения.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Если закомитили, но не делали &lt;code&gt;push&lt;/code&gt;&lt;/strong&gt; поможет команда &lt;code&gt;strip&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Если набор изменений уже опубликован&lt;/strong&gt;(&lt;code&gt;push&lt;/code&gt; уже сделали). Первым делом
мы должны затереть изменения в ветке default, т.е. вернуть всё как было до
нашего комита. Для этого есть команда &lt;code&gt;backout&lt;/code&gt;. Затем мы скопируем набор
изменения из ветки default в ветку develop с помощью &lt;code&gt;graft&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;пример-использования-shelve-unshelve&quot;&gt;Пример использования &lt;em&gt;shelve/unshelve&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;Допустим мы начали вносить изменения в код в ветке default, поправили два файла и добавили один.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg sum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;parent: 1205:ee31007057d4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Added tag v2.1 for changeset bda7daf52beb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;branch: default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commit: 2 modified, 1 unknown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;update: (current)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg st&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;M src\org\orw\tools\StringTool.java&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;M src\org\orw\tools\ValidationException.java&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;? Новый текстовый документ.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;В моём случае mercurial отказывается переходить на другую ветку с незакомиченными изменениями. Предлагает только перейти с потерей изменений.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg up develop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;abort: uncommitted changes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(commit or update --clean to discard changes)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Команда &lt;code&gt;shelve&lt;/code&gt; сохранит незакомиченные изменения в специальном месте на вашем пк. После её вызова все изменения магическим образом исчезнут
и mercurial не будет препятствовать вам при переходе в другую ветку.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg shelve&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;shelved as default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Обратите внимание что &lt;code&gt;shelve&lt;/code&gt; не забрал текстовый файл. &lt;code&gt;shelve&lt;/code&gt; работает только с теми файлами, которые находятся под управлением mercurial.
То есть, чтобы этот файл добавился его нужно добавить в скв (команда &lt;code&gt;hg add&lt;/code&gt;. NetBeans делает атоматически при создании файла).&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg sum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;parent: 1205:ee31007057d4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Added tag v2.1 for changeset bda7daf52beb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;branch: default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commit: 1 unknown (clean)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;update: (current)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg st&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;? Новый текстовый документ.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Теперь переход в другую ветку пройдёт успешно.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg up develop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Здесь обратите внимание на то, что при переходе в другую ветку mercurial не трогает файлы которые не находятся под его контролем.
Поэтому наш текстовый файл остался на месте.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg sum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;parent: 1228:a9a1c0813125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Добавил комент в методе runNoopSqlOnMain&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;branch: develop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commit: 1 unknown (clean)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;update: (current)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg st&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;? Новый текстовый документ.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Вызов &lt;code&gt;unshelve&lt;/code&gt; восстановит сохранённые &lt;code&gt;shelve&lt;/code&gt; изменения.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg unshelve&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unshelving change &amp;apos;default&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rebasing shelved changes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rebasing 1230:4c03ce8e7466 &amp;quot;changes to &amp;apos;Added tag v2.1 for changeset bda7daf52beb&amp;apos;&amp;quot; (tip)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Все файлы перенесены в ветку develop.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg sum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;parent: 1228:a9a1c0813125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Добавил комент в методе runNoopSqlOnMain&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;branch: develop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commit: 2 modified, 1 unknown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;update: (current)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg st&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;M src\org\orw\tools\StringTool.java&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;M src\org\orw\tools\ValidationException.java&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;? Новый текстовый документ.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;пример-использования-strip&quot;&gt;Пример использования &lt;em&gt;strip&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;Команда &lt;code&gt;strip&lt;/code&gt; срезает все наборы изменений выше указанного.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@  changeset:   4:0db86e04460b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  tag:         tip&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:20:01 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add a3.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   3:3f7dabaca003&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:18:56 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add b2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   2:bdd9aa0d7e85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:18:21 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add a2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   1:7803c086674e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:17:08 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add b1.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   0:265547eca74f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   date:        Thu Mar 05 11:15:33 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   summary:     add a1.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Чтобы удалить из истории наборы изменений достаточно выполнить:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;hg strip -r3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;Не используйте &lt;code&gt;strip&lt;/code&gt; если уже сделали &lt;code&gt;push&lt;/code&gt;!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;пример-c-backout-и-graft&quot;&gt;Пример c backout и graft&lt;/h2&gt;
&lt;p&gt;Рассмотри репозитарий с такой структурой:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; -G&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@  changeset:   4:0db86e04460b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  tag:         tip&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:20:01 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add a3.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   3:3f7dabaca003&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:18:56 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add b2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   2:bdd9aa0d7e85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:18:21 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add a2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   1:7803c086674e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:17:08 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     add b1.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   0:265547eca74f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   date:        Thu Mar 05 11:15:33 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   summary:     add a1.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Представим, что нам нужно выделить изменения 1 и 3 в отдельную ветку, а в основной оставить изменения 0, 2 и 4.&lt;/p&gt;
&lt;p&gt;Для этого создадим новую ветку &lt;code&gt;task-1&lt;/code&gt; ответвляющуюся от основной ветки до появления наборов которых нам надо выделить.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg up -r0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1 files updated, 0 files merged, 4 files removed, 0 files unresolved&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg branch task-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;marked working directory as branch task-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(branches are permanent and global, did you want a bookmark?)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg commit -m &lt;span class=&quot;string&quot;&gt;&quot;created task-1 branch&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Копируем изменения 1 и 3 в ветку &lt;strong&gt;task-1&lt;/strong&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg graft -r1 -r3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grafting revision 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;grafting revision 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;merging a1.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;Команда &lt;strong&gt;hg graft&lt;/strong&gt; использует возможности слияния Mercurial, чтобы скопировать
отдельные изменения из других веток без полного слияния веток в графе
истории. Иногда эту операцию также называют ‘бэкпортирование’
(‘backporting’) или ‘cherry-picking’. По умолчанию graft копирует имя
автора, даты и описание из ревизии-источника.&lt;/p&gt;
&lt;p&gt;Наборы изменений, являющиеся предками текущей ревизии, и к которым уже
была применена операция graft, а также ревизии слияния будут пропущены.&lt;/p&gt;
&lt;p&gt;Если во время операции graft возникает конфликт, операция отменяется для
того, чтобы текущее слияние было завершено вручную. После разрешения всех
конфликтов, можно продолжить процесс с помощью параметра -c/–continue.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Затираем изменения 1 и 3 из основной ветки.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg up default&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3 files updated, 0 files merged, 0 files removed, 0 files unresolved&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg backout -r3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;reverting a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;removing b2.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;merging a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1 files updated, 1 files merged, 0 files removed, 0 files unresolved&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg commit -m &lt;span class=&quot;string&quot;&gt;&quot;backout 3f7dabaca003&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg backout -r1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;reverting a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;removing b1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;merging a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2 files updated, 1 files merged, 0 files removed, 0 files unresolved&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hg commit -m &lt;span class=&quot;string&quot;&gt;&quot;backout 7803c086674e&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;Команда &lt;strong&gt;hg backout&lt;/strong&gt; позволяет вам автоматически «отменить» изменение. Т.к. Меркуриал не позволяет изменять уже существующую историю,
а только лишь добавлять в неё новые записи, данная команда не может просто удалить изменение, которое вы хотите отменить. Вместо этого она создает новое изменение, которое отражает состояние репозитория, если бы в него не была добавлена удаляемая ревизия.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;В итоге имеем структуру следующего вида:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hg &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt; -G&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@  changeset:   9:cc7af7187000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  tag:         tip&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:34:25 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     backout 7803c086674e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   8:40f5d6fb2460&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  parent:      4:0db86e04460b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  date:        Thu Mar 05 11:34:10 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|  summary:     backout 3f7dabaca003&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| o  changeset:   7:e53e9384c5f0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  branch:      task-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  date:        Thu Mar 05 11:18:56 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  summary:     add b2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| o  changeset:   6:834e16f0475d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  branch:      task-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  date:        Thu Mar 05 11:17:08 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  summary:     add b1.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| o  changeset:   5:3a6c63aea14c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  branch:      task-1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  parent:      0:265547eca74f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  date:        Thu Mar 05 11:24:38 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  summary:     created task-1 branch&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o |  changeset:   4:0db86e04460b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  date:        Thu Mar 05 11:20:01 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  summary:     add a3.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o |  changeset:   3:3f7dabaca003&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  date:        Thu Mar 05 11:18:56 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  summary:     add b2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o |  changeset:   2:bdd9aa0d7e85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  date:        Thu Mar 05 11:18:21 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |  summary:     add a2.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| |&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o |  changeset:   1:7803c086674e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|/   user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|    date:        Thu Mar 05 11:17:08 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|    summary:     add b1.txt &amp;amp; edit a1.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;o  changeset:   0:265547eca74f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   user:        kuldikin &amp;lt;AC_KuldikinAS@spb.orw.rzd&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   date:        Thu Mar 05 11:15:33 2015 +0300&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   summary:     add a1.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;Представим, что изменения попали в не ту ветку которую мы хотели.
Что делать? Всё зависит от того, как много мы успели сделать.&lt;/p&gt;
&lt;p&gt;&lt;s
    
    </summary>
    
    
  </entry>
  
</feed>
